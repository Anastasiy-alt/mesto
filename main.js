(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=e.baseUrl,this._headers=e.headers}var n,r;return n=t,r=[{key:"_check",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers,method:"GET"}).then((function(t){return e._check(t)})).then((function(e){return e.forEach((function(e){var t={};t.title=e.name,t.link=e.link,initialCards.push(t)})),initialCards}))}},{key:"setInitialCards",value:function(){}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"GET"}).then((function(e){return e.json()})).then((function(t){return e._check(t)}))}},{key:"setUserInfo",value:function(e,t,n){var r=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t,avatar:n})}).then((function(e){return r._check(e)}))}}],r&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){var r=t.data,o=t.handleCardClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._title=r.title,this._link=r.link,this._cardSelector=n,this._handleCardClick=o}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._img=this._element.querySelector(".element__img"),this._imgName=this._element.querySelector(".element__name"),this._likeButton=this._element.querySelector(".element__like"),this._setEventListeners(),this._img.alt=this._title,this._img.src=this._link,this._imgName.textContent=this._title,fetch("https://mesto.nomoreparties.co/v1/cohort-46/cards",{method:"POST",headers:{authorization:"4ab555e1-39a0-48e6-8593-6e8a4a84e28f","Content-Type":"application/json"},body:JSON.stringify({name:this._title,link:this._link})}),this._element}},{key:"_handleClickLikeButton",value:function(){this._likeButton.classList.toggle("element__like_click")}},{key:"_handleClickDeleteButton",value:function(){this._element.remove()}},{key:"_setEventListeners",value:function(){var e=this;this._deleteButton=this._element.querySelector(".element__delete"),this._img.addEventListener("click",(function(){e._handleCardClick(e._title,e._link)})),this._deleteButton.addEventListener("click",(function(){e._handleClickDeleteButton()})),this._likeButton.addEventListener("click",(function(){e._handleClickLikeButton()}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=t,this._escClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._escClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._escClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.querySelector(".popup__close").addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=s(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},c.apply(this,arguments)}function s(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submit=t,n._popupForm=n._popup.querySelector(".popup__form"),n._popupInput=n._popupForm.querySelectorAll(".popup__item"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._popupInput.forEach((function(t){e[t.name]=t.value})),e}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;c(p(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._submit(e._getInputValues())}))}},{key:"close",value:function(){c(p(a.prototype),"close",this).call(this),this._popupForm.reset()}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=v(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},b.apply(this,arguments)}function v(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function k(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(r);if(o){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._imgLink=t._popup.querySelector(".popup__img"),t._imgName=t._popup.querySelector(".popup__info-img"),t}return t=a,(n=[{key:"open",value:function(e,t){this._imgLink.src=t,this._imgLink.alt=e,this._imgName.textContent=e,b(g(a.prototype),"open",this).call(this)}}])&&_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(i);function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t){var n=t.userName,r=t.userInfo;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=n,this._userInfo=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){var e={};return e.name=this._userName.textContent,e.info=this._userInfo.textContent,e}},{key:"setUserInfo",value:function(e){fetch("https://mesto.nomoreparties.co/v1/cohort-46/users/me",{method:"PATCH",headers:{authorization:"4ab555e1-39a0-48e6-8593-6e8a4a84e28f","Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.info})}),this._userName.textContent=e.name,this._userInfo.textContent=e.info}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,"_showError",(function(e,t){var n=r._formElement.querySelector(".".concat(e.id,"-error"));e.classList.add(r._form.inputErrorClass),n.textContent=t,n.classList.add(r._form.errorClass)})),j(this,"_hideError",(function(e){var t=r._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(r._form.inputErrorClass),t.classList.remove(r._form.errorClass),t.textContent=" "})),j(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideError(e):r._showError(e,e.validationMessage)})),this._form=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(".popup__item")),this._buttonElement=this._formElement.querySelector(this._form.submitButtonSelector)}var t,n;return t=e,(n=[{key:"_setEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners(),this._formElement.addEventListener("submit",(function(e){e.preventDefault()}))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"makeButtonDisabled",value:function(){this._buttonElement.classList.add(this._form.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"toggleButtonState",value:function(){this._hasInvalidInput()?this.makeButtonDisabled():(this._buttonElement.classList.remove(this._form.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"resetValidation",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){e._hideError(t)}))}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),L=document.querySelector(".profile__edit-button"),P=document.querySelector(".popup_for_edit"),B=document.querySelector(".popup_for_add"),q=document.querySelector("[name=name]"),I=document.querySelector("[name=info]"),T=document.querySelector(".profile__name"),D=document.querySelector(".profile__info"),H=document.querySelector(".profile__add-button"),M=document.querySelector(".elements"),R=document.querySelector(".popup_for_img"),V=document.querySelector(".profile__avatar"),A={},G=new S({userName:T,userInfo:D}),N=new h(P,(function(e){G.setUserInfo(e),N.close()}));N.setEventListeners(),L.addEventListener("click",(function(){A["form-info"].resetValidation();var e=G.getUserInfo();I.value=e.info,q.value=e.name,N.open()}));var U=new E(R);U.setEventListeners();var W=function(e){return new r({data:e,handleCardClick:function(e,t){U.open(e,t)}},".img-template").generateCard()},Y=new h(B,(function(e){z.addItem(W(e)),Y.close()}));Y.setEventListeners(),H.addEventListener("click",(function(){A["form-add"].resetValidation(),Y.open()}));var F,z=new y({renderer:function(e){z.addItem(W(e))}},M);z.renderItems([{title:"Toshi в толстовке",link:"https://images.unsplash.com/photo-1534432586043-ead5b99229fb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1508&q=80"},{title:"Toshi в дождивике",link:"https://images.unsplash.com/photo-1530041686259-53d26f863313?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2619&q=80"},{title:"Toshi француз",link:"https://images.unsplash.com/photo-1517519014922-8fc06b814a0e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1472&q=80"},{title:"Toshi в костюме Тоторо",link:"https://images.unsplash.com/photo-1517423738875-5ce310acd3da?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1540&q=80"},{title:"Toshi в джинсовке",link:"https://images.unsplash.com/photo-1518020382113-a7e8fc38eac9?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1317&q=80"},{title:"Toshi на стиле",link:"https://images.unsplash.com/photo-1517423568366-8b83523034fd?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"}]),F={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_type_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"},Array.from(document.querySelectorAll(F.formSelector)).forEach((function(e){var t=new x(F,e),n=e.getAttribute("name");A[n]=t,t.enableValidation()})),new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-46",headers:{authorization:"4ab555e1-39a0-48e6-8593-6e8a4a84e28f","Content-Type":"application/json"}}).setUserInfo(T,D,V)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixHQUNBMEgsR0FFSGMsRUFBVUcsWUN6R2EsQ0FDbkIsQ0FDRXpJLE1BQU8sb0JBQ1BFLEtBQU0sa0tBRVIsQ0FDRUYsTUFBTyxvQkFDUEUsS0FBTSxrS0FFUixDQUNFRixNQUFPLGdCQUNQRSxLQUFNLGtLQUVSLENBQ0VGLE1BQU8seUJBQ1BFLEtBQU0sa0tBRVIsQ0FDRUYsTUFBTyxvQkFDUEUsS0FBTSxrS0FFUixDQUNFRixNQUFPLGlCQUNQRSxLQUFNLG9LRHFGY3NJLEVEaEdLLENBQzdCRSxhQUFjLGVBQ2RDLGNBQWUsZ0JBQ2ZqQyxxQkFBc0IsaUJBQ3RCSSxvQkFBcUIsOEJBQ3JCZCxnQkFBaUIsMEJBQ2pCQyxXQUFZLDZCQzJGS00sTUFBTUMsS0FBS25GLFNBQVN3QyxpQkFBaUIyRSxFQUFnQkUsZUFDN0Q3SSxTQUFRLFNBQUMrSSxHQUNoQixJQUFNQyxFQUFZLElBQUl0RCxFQUFjaUQsRUFBaUJJLEdBRS9DRSxFQUFXRixFQUFZRyxhQUFhLFFBRTFDckIsRUFBZW9CLEdBQVlELEVBQzNCQSxFQUFVRyxrQkFDWCxJQUtTLElBQUlySyxFQUFJLENBQ2xCSSxRQUFTLDhDQUNURSxRQUFTLENBQ1BpRCxjQUFlLHVDQUNmLGVBQWdCLHNCQUloQjJGLFlBQVl4SCxFQUFhQyxFQUFhQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jYXJkcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICB9XG5cbiAgICBfY2hlY2socmVzKSB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vINC10YHQu9C4INC+0YjQuNCx0LrQsCwg0L7RgtC60LvQvtC90Y/QtdC8INC/0YDQvtC80LjRgVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cblxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCdcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB0aGlzLl9jaGVjayhyZXMpKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRPYmogPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgY2FyZE9iai50aXRsZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgY2FyZE9iai5saW5rID0gaXRlbS5saW5rO1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsQ2FyZHMucHVzaChjYXJkT2JqKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsQ2FyZHM7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIHNldEluaXRpYWxDYXJkcygpIHtcblxuICAgIH1cblxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gdGhpcy5fY2hlY2socmVzKSlcbiAgICB9XG5cbiAgICBzZXRVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUluZm8sIHByb2ZpbGVBdmF0YXIpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiBwcm9maWxlTmFtZSxcbiAgICAgICAgICAgICAgICBhYm91dDogcHJvZmlsZUluZm8sXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBwcm9maWxlQXZhdGFyXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHRoaXMuX2NoZWNrKHJlcykpXG4gICAgfVxuXG5cbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrIH0sIGNhcmRTZWxlY3Rvcikge1xuICAgIHRoaXMuX3RpdGxlID0gZGF0YS50aXRsZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2ltZyA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2ltZycpO1xuICAgIHRoaXMuX2ltZ05hbWUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19uYW1lJyk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2ltZy5hbHQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9pbWcuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9pbWdOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XG4gICAgZmV0Y2goJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDYvY2FyZHMnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAnNGFiNTU1ZTEtMzlhMC00OGU2LTg1OTMtNmU4YTRhODRlMjhmJyxcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX3RpdGxlLFxuICAgICAgICAgICAgICAgIGxpbms6IHRoaXMuX2xpbmtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgX2hhbmRsZUNsaWNrTGlrZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfY2xpY2snKTtcbiAgfVxuXG4gIF9oYW5kbGVDbGlja0RlbGV0ZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2RlbGV0ZScpO1xuICAgIHRoaXMuX2ltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl90aXRsZSwgdGhpcy5fbGluaylcbiAgICB9KTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDbGlja0RlbGV0ZUJ1dHRvbigpO1xuICAgIH0pO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDbGlja0xpa2VCdXR0b24oKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgICAgIHRoaXMuX3BvcHVwID0gcG9wdXA7XG4gICAgICAgIHRoaXMuX2VzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2VzY0Nsb3NlKTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9lc2NDbG9zZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBjb25zdCBjbG9zZUJ0biA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2xvc2UnKTtcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW5lZCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHN1Ym1pdCkge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5fc3VibWl0ID0gc3VibWl0O1xuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICAgICAgdGhpcy5fcG9wdXBJbnB1dCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2l0ZW0nKTtcbiAgICB9XG5cbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGlucHV0RGF0YSA9IHt9O1xuICAgICAgICB0aGlzLl9wb3B1cElucHV0LmZvckVhY2goaW5wdXQgPT4ge1xuICAgICAgICAgICAgaW5wdXREYXRhW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaW5wdXREYXRhO1xuICAgIH1cblxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgLy8g0YLRg9GCINCy0YHRgtCw0LLQu9GP0LXQvCDQsiBgdmFsdWVgINC40L3Qv9GD0YLQsCDQtNCw0L3QvdGL0LUg0LjQtyDQvtCx0YrQtdC60YLQsCDQv9C+INCw0YLRgNC40LHRg9GC0YMgYG5hbWVgINGN0YLQvtCz0L4g0LjQvdC/0YPRgtCwXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fc3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKHtyZW5kZXJlciB9LCBjb250YWluZXIpIHtcbiAgICAgICAgLy8gdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgICAgICBpdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAgICAgdGhpcy5faW1nTGluayA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nJyk7XG4gICAgICAgIHRoaXMuX2ltZ05hbWUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2luZm8taW1nJyk7XG4gICAgfVxuXG4gICAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgICAgIHRoaXMuX2ltZ0xpbmsuc3JjID0gbGluaztcbiAgICAgICAgdGhpcy5faW1nTGluay5hbHQgPSBuYW1lO1xuICAgICAgICB0aGlzLl9pbWdOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgc3VwZXIub3BlbigpO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gICAgY29uc3RydWN0b3IoeyB1c2VyTmFtZSwgdXNlckluZm8gfSkge1xuICAgICAgICB0aGlzLl91c2VyTmFtZSA9IHVzZXJOYW1lO1xuICAgICAgICB0aGlzLl91c2VySW5mbyA9IHVzZXJJbmZvO1xuICAgIH1cblxuICAgIGdldFVzZXJJbmZvKCkge1xuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHt9O1xuICAgICAgICB1c2VyRGF0YVsnbmFtZSddID0gdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQ7XG4gICAgICAgIHVzZXJEYXRhWydpbmZvJ10gPSB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudDtcbiAgICAgICAgcmV0dXJuIHVzZXJEYXRhO1xuXG4gICAgfVxuXG4gICAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcbiAgICAgICAgZmV0Y2goJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDYvdXNlcnMvbWUnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogJzRhYjU1NWUxLTM5YTAtNDhlNi04NTkzLTZlOGE0YTg0ZTI4ZicsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIGFib3V0OiB1c2VyRGF0YS5pbmZvXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xuICAgICAgICB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudCA9IHVzZXJEYXRhLmluZm87XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGZvcm1DbGFzc0xpc3QsIGZvcm0pIHtcbiAgICAgICAgdGhpcy5fZm9ybSA9IGZvcm1DbGFzc0xpc3Q7XG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2l0ZW0nKSk7XG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2Zvcm0uc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIH07XG5cbiAgICAvLyDQpNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0LTQvtCx0LDQstC70Y/QtdGCINC60LvQsNGB0YEg0YEg0L7RiNC40LHQutC+0LlcbiAgICBfc2hvd0Vycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZm9ybS5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Zvcm0uZXJyb3JDbGFzcyk7XG4gICAgfTtcblxuICAgIC8vINCk0YPQvdC60YbQuNGPLCDQutC+0YLQvtGA0LDRjyDRg9C00LDQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gICAgX2hpZGVFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9mb3JtLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Zvcm0uZXJyb3JDbGFzcyk7XG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiIFwiO1xuICAgIH07XG5cbiAgICAvLyDQpNGD0L3QutGG0LjRjywg0LrQvtGC0L7RgNCw0Y8g0L/RgNC+0LLQtdGA0Y/QtdGCINCy0LDQu9C40LTQvdC+0YHRgtGMINC/0L7Qu9GPXG4gICAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Nob3dFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pXG4gICAgfTtcblxuICAgIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8v0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC00LXQu9Cw0LXRgiDQutC90L7Qv9C60YMg0L3QtdCw0LrRgtC40LLQvdC+0LkgXG4gICAgbWFrZUJ1dHRvbkRpc2FibGVkKCkge1xuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZm9ybS5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWVcbiAgICB9O1xuXG4gICAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgICAgICAgdGhpcy5tYWtlQnV0dG9uRGlzYWJsZWQoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Zvcm0uaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn0iLCJleHBvcnQgY29uc3QgZWRpdEJ0blByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2Zvcl9lZGl0Jyk7XG5leHBvcnQgY29uc3QgcG9wdXBBZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2Zvcl9hZGQnKTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmFtZT1uYW1lXScpO1xuZXhwb3J0IGNvbnN0IGluZm9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPWluZm9dJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2luZm8nKTtcbmV4cG9ydCBjb25zdCBhZGRCdG5JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XG5leHBvcnQgY29uc3QgYmxvY2tDYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpO1xuZXhwb3J0IGNvbnN0IGltYWdlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfZm9yX2ltZycpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5cbmV4cG9ydCBjb25zdCBwb3B1cFZhbGlkYXRpb24gPSB7XG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6ICdwb3B1cF9fYnV0dG9uX3R5cGVfZGlzYWJsZWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlJ1xufTtcbmV4cG9ydCBjb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9OyIsImltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgeyBpbml0aWFsIH0gZnJvbSBcIi4uL3V0aWxzL2NhcmRzLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHtcbiAgZWRpdEJ0blByb2ZpbGUsIHBvcHVwRWRpdFByb2ZpbGUsIHBvcHVwQWRkQ2FyZCwgbmFtZUlucHV0LFxuICBpbmZvSW5wdXQsIHByb2ZpbGVOYW1lLCBwcm9maWxlSW5mbywgYWRkQnRuSW1hZ2UsXG4gIGJsb2NrQ2FyZHMsIGltYWdlUG9wdXAsIHBvcHVwVmFsaWRhdGlvbixcbiAgZm9ybVZhbGlkYXRvcnMsIHByb2ZpbGVBdmF0YXJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5cbi8vIGZldGNoKCdodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ2L3VzZXJzL21lJywge1xuLy8gICBoZWFkZXJzOiB7XG4vLyAgICAgYXV0aG9yaXphdGlvbjogJzRhYjU1NWUxLTM5YTAtNDhlNi04NTkzLTZlOGE0YTg0ZTI4Zidcbi8vICAgfVxuLy8gfSlcbi8vICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4vLyAgIC50aGVuKChyZXN1bHQpID0+IHtcbi8vICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHJlc3VsdC5uYW1lO1xuLy8gICAgIHByb2ZpbGVJbmZvLnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xuLy8gICAgIHByb2ZpbGVBdmF0YXIuc3JjID0gcmVzdWx0LmF2YXRhcjtcbi8vICAgfSk7XG5cbi8vIGNvbnN0IGluaXRpYWxDYXJkcyA9IFtdOyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIGZldGNoKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ2L2NhcmRzJywge1xuLy8gICBoZWFkZXJzOiB7XG4vLyAgICAgYXV0aG9yaXphdGlvbjogJzRhYjU1NWUxLTM5YTAtNDhlNi04NTkzLTZlOGE0YTg0ZTI4Zidcbi8vICAgfVxuLy8gfSlcbi8vICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4vLyAgIC50aGVuKChyZXN1bHQpID0+IHtcbi8vICAgICByZXN1bHQuZm9yRWFjaCAoZnVuY3Rpb24gKGl0ZW0pIHtcbi8vICAgICAgIGNvbnN0IGNhcmRPYmogPSB7fTtcbi8vICAgICAgIGNhcmRPYmoudGl0bGUgPSBpdGVtLm5hbWU7XG4vLyAgICAgICBjYXJkT2JqLmxpbmsgPSBpdGVtLmxpbms7XG4vLyAgICAgICBpbml0aWFsQ2FyZHMucHVzaChjYXJkT2JqKTtcbi8vICAgICB9KVxuLy8gICAgIHJldHVybiBpbml0aWFsQ2FyZHM7XG4vLyAgIH0pXG4vLyAgIGNvbnNvbGUubG9nKGluaXRpYWwpO1xuLy8gY29uc29sZS5sb2coaW5pdGlhbENhcmRzKTtcblxuXG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgdXNlck5hbWU6IHByb2ZpbGVOYW1lLFxuICB1c2VySW5mbzogcHJvZmlsZUluZm9cbn0pO1xuXG5jb25zdCBzdWJtaXRFZGl0ID0gKGRhdGFFZGl0Rm9ybSkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhRWRpdEZvcm0pO1xuICBoYW5kbGVFZGl0Rm9ybS5jbG9zZSgpO1xufVxuXG5jb25zdCBoYW5kbGVFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwRWRpdFByb2ZpbGUsIHN1Ym1pdEVkaXQpO1xuaGFuZGxlRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZWRpdEJ0blByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1WYWxpZGF0b3JzWydmb3JtLWluZm8nXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpXG4gIGluZm9JbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmluZm87XG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XG4gIGhhbmRsZUVkaXRGb3JtLm9wZW4oKTtcbn0pO1xuXG5jb25zdCB6b29tSW1nID0gbmV3IFBvcHVwV2l0aEltYWdlKGltYWdlUG9wdXApO1xuem9vbUltZy5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICAgIHpvb21JbWcub3BlbihuYW1lLCBsaW5rKTtcbiAgICAgIH1cbiAgICB9LCAnLmltZy10ZW1wbGF0ZScpO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn07XG5cbmNvbnN0IHN1Ym1pdEFkZCA9IChkYXRhQWRkRm9ybSkgPT4ge1xuICDRgWFyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChkYXRhQWRkRm9ybSkpO1xuICBoYW5kbGVBZGRDYXJkUG9wdXAuY2xvc2UoKTtcbn07XG5cbmNvbnN0IGhhbmRsZUFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQWRkQ2FyZCwgc3VibWl0QWRkKTtcbmhhbmRsZUFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5hZGRCdG5JbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgZm9ybVZhbGlkYXRvcnNbJ2Zvcm0tYWRkJ10ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGhhbmRsZUFkZENhcmRQb3B1cC5vcGVuKCk7XG59KVxuXG5jb25zdCDRgWFyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xuICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICDRgWFyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG4gIH1cbn0sIGJsb2NrQ2FyZHMpO1xuXG7RgWFyZHNMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWwpOyAvLy8vLy8vLy8vLy8vL1xuXG4vLyDQktC60LvRjtGH0LXQvdC40LUg0LLQsNC70LjQtNCw0YbQuNC4XG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHBvcHVwVmFsaWRhdGlvbikgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwb3B1cFZhbGlkYXRpb24uZm9ybVNlbGVjdG9yKSlcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihwb3B1cFZhbGlkYXRpb24sIGZvcm1FbGVtZW50KVxuICAgIC8vINC/0L7Qu9GD0YfQsNC10Lwg0LTQsNC90L3Ri9C1INC40Lcg0LDRgtGA0LjQsdGD0YLQsCBgbmFtZWAg0YMg0YTQvtGA0LzRi1xuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICAvLyDQstC+0YIg0YLRg9GCINCyINC+0LHRitC10LrRgiDQt9Cw0L/QuNGB0YvQstCw0LXQvCDQv9C+0LQg0LjQvNC10L3QtdC8INGE0L7RgNC80YtcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiAgfSk7XG59O1xuXG5lbmFibGVWYWxpZGF0aW9uKHBvcHVwVmFsaWRhdGlvbik7XG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC00NicsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiAnNGFiNTU1ZTEtMzlhMC00OGU2LTg1OTMtNmU4YTRhODRlMjhmJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pO1xuXG5hcGkuc2V0VXNlckluZm8ocHJvZmlsZU5hbWUsIHByb2ZpbGVJbmZvLCBwcm9maWxlQXZhdGFyKTsiLCJleHBvcnQgY29uc3QgaW5pdGlhbCA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ1Rvc2hpINCyINGC0L7Qu9GB0YLQvtCy0LrQtScsXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MzQ0MzI1ODYwNDMtZWFkNWI5OTIyOWZiP2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xNTA4JnE9ODAnXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1Rvc2hpINCyINC00L7QttC00LjQstC40LrQtScsXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MzAwNDE2ODYyNTktNTNkMjZmODYzMzEzP2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0yNjE5JnE9ODAnXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1Rvc2hpINGE0YDQsNC90YbRg9C3JyxcbiAgICAgIGxpbms6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxNzUxOTAxNDkyMi04ZmMwNmI4MTRhMGU/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTE0NzImcT04MCdcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnVG9zaGkg0LIg0LrQvtGB0YLRjtC80LUg0KLQvtGC0L7RgNC+JyxcbiAgICAgIGxpbms6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxNzQyMzczODg3NS01Y2UzMTBhY2QzZGE/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTE1NDAmcT04MCdcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnVG9zaGkg0LIg0LTQttC40L3RgdC+0LLQutC1JyxcbiAgICAgIGxpbms6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxODAyMDM4MjExMy1hN2U4ZmMzOGVhYzk/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTEzMTcmcT04MCdcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnVG9zaGkg0L3QsCDRgdGC0LjQu9C1JyxcbiAgICAgIGxpbms6ICdodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUxNzQyMzU2ODM2Ni04YjgzNTIzMDM0ZmQ/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTE0NzAmcT04MCdcbiAgICB9XG4gIF07XG4iXSwibmFtZXMiOlsiQXBpIiwib3B0aW9ucyIsInRoaXMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiX2NoZWNrIiwicmVzdWx0IiwiZm9yRWFjaCIsIml0ZW0iLCJjYXJkT2JqIiwidGl0bGUiLCJuYW1lIiwibGluayIsImluaXRpYWxDYXJkcyIsInB1c2giLCJwcm9maWxlTmFtZSIsInByb2ZpbGVJbmZvIiwicHJvZmlsZUF2YXRhciIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXIiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsIl90aXRsZSIsIl9saW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfaW1nIiwiX2ltZ05hbWUiLCJfbGlrZUJ1dHRvbiIsIl9zZXRFdmVudExpc3RlbmVycyIsImFsdCIsInNyYyIsInRleHRDb250ZW50IiwiYXV0aG9yaXphdGlvbiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9kZWxldGVCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUNsaWNrRGVsZXRlQnV0dG9uIiwiX2hhbmRsZUNsaWNrTGlrZUJ1dHRvbiIsIlBvcHVwIiwicG9wdXAiLCJfcG9wdXAiLCJfZXNjQ2xvc2UiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiYWRkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwicG9wdXBTZWxlY3RvciIsInN1Ym1pdCIsIl9zdWJtaXQiLCJfcG9wdXBGb3JtIiwiX3BvcHVwSW5wdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXREYXRhIiwiaW5wdXQiLCJ2YWx1ZSIsIl9pbnB1dExpc3QiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJTZWN0aW9uIiwiY29udGFpbmVyIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsInByZXBlbmQiLCJpdGVtcyIsIlBvcHVwV2l0aEltYWdlIiwiX2ltZ0xpbmsiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckluZm8iLCJfdXNlck5hbWUiLCJfdXNlckluZm8iLCJ1c2VyRGF0YSIsImluZm8iLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUNsYXNzTGlzdCIsImZvcm0iLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsIl9mb3JtIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiQXJyYXkiLCJmcm9tIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInNvbWUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwibWFrZUJ1dHRvbkRpc2FibGVkIiwiZWRpdEJ0blByb2ZpbGUiLCJwb3B1cEVkaXRQcm9maWxlIiwicG9wdXBBZGRDYXJkIiwibmFtZUlucHV0IiwiaW5mb0lucHV0IiwiYWRkQnRuSW1hZ2UiLCJibG9ja0NhcmRzIiwiaW1hZ2VQb3B1cCIsImZvcm1WYWxpZGF0b3JzIiwiaGFuZGxlRWRpdEZvcm0iLCJkYXRhRWRpdEZvcm0iLCJzZXRVc2VySW5mbyIsInNldEV2ZW50TGlzdGVuZXJzIiwiZ2V0VXNlckluZm8iLCJvcGVuIiwiem9vbUltZyIsImNyZWF0ZUNhcmQiLCJnZW5lcmF0ZUNhcmQiLCJoYW5kbGVBZGRDYXJkUG9wdXAiLCJkYXRhQWRkRm9ybSIsItGBYXJkc0xpc3QiLCJhZGRJdGVtIiwicG9wdXBWYWxpZGF0aW9uIiwicmVuZGVySXRlbXMiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiZm9ybUVsZW1lbnQiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9